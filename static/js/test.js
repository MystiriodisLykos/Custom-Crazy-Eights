// Generated by CoffeeScript 1.12.4
(function() {
  var name, server, ws_scheme;

  if (window.location.protocol === 'https:') {
    ws_scheme = 'wss://';
  } else {
    ws_scheme = 'ws://';
  }

  server = new ReconnectingWebSocket(ws_scheme + location.host + "/server");

  name = '';

  server.onmessage = function(message) {
    message = JSON.parse(message.data);
    console.log(message);
  };

  $('#draw').click(function(e) {
    var data, message, type;
    e.preventDefault();
    if (name !== '') {
      type = 'draw';
      data = '';
      message = JSON.stringify({
        name: name,
        type: type,
        data: data
      });
      console.log(message);
      server.send(message);
    }
  });

  $('#enter').on('submit', function(e) {
    var data, message, type;
    e.preventDefault();
    if ($('#name')[0].value !== '') {
      name = $('#name')[0].value;
      type = 'add';
      data = '';
      message = JSON.stringify({
        name: name,
        type: type,
        data: data
      });
      console.log(message);
      server.send(message);
    }
  });

}).call(this);

//# sourceMappingURL=test.js.map
